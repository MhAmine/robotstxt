---
title: "README"
author: "Peter Mei√üner"
date: "`r Sys.time()`"
output: 
  html_document: 
    keep_md: yes
    number_sections: yes
    toc: yes
---

# Preface

**STATUS**

UNDER DEVELOPMENT ... **Getting Finished**



```{r, include=FALSE}
library(robotstxt)
```

**Installation and Start**

```{r, eval=FALSE}
devtools::install_github("petermeissner/robotstxt")
```



**Documentation**

```{r, eval=FALSE}
?robotstxt
```




# Example Usage 

Loading the package and dplyr/magrittr for neater code  ... 

```{r}
library(robotstxt)
library(dplyr)
```

## The Object Oriented Style

Initializing a new instance of the robotstxt class ... 
```{r}
rt_wikipedia <- robotstxt$new(domain="wikipedia.org")

rt_wikipedia
```


Having a look a some fields (the data stored inside the object) ... 

... the domain for which the permissions apply ... 

```{r}
rt_wikipedia$domain
```

... the actual text of the robots.txt file ... 

```{r}
rt_wikipedia$text %>% 
  substring(1, 400) 
```

... bots mentioned by name ...

```{r}
rt_wikipedia$bots
```

Checking if some/any bot might access the root path ... 

```{r}
# checking for access permissions
rt_wikipedia$check(paths = c("/","api/"), bot = "*")
rt_wikipedia$check(paths = c("/","api/"), bot = "Orthogaffe")
rt_wikipedia$check(paths = c("/","api/"), bot = "Mediapartners-Google*  ")
```

## The Functional Style

Retrieving robots.txt file ... 

```{r}
rtxt <- 
  get_robotstxt("wikipedia.org") 

rtxt %>% 
  substring(1,400)
``` 


... parsing robots.txt file more general ... 

```{r}
parsed_rtxt <- 
  rtxt %>% 
  parse_robotstxt() 

names(parsed_rtxt)
``` 

... permissions ... 

```{r}
permissions <- 
  parsed_rtxt$permissions
``` 


... and checking permissions ... 

```{r}
permissions %>% 
  paths_allowed(paths=c("/","images/"), bot="*")
```














